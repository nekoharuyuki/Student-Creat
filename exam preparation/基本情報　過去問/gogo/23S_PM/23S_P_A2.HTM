<html>
<head>
<title>平成23年度 春期 基本情報技術者 午後 正解例と解説（問3～問5）　特別試験</title>
<style type="text/css"><!--
body{line-height:150%;}
code{font-size:12pt;}
h3{text-align:center;}
div.caution{border:solid 1px #000000; padding:0.5em;}
--></style>
</head>
<body>
<blockquote>
<hr>
<h3>平成23年度　春期　基本情報技術者　特別試験<br/>
午後　正解例と解説（問3～問5）</h3>
<hr>
<p><a name="30"><strong>問3</strong></a></p>
<hr>
<p><strong><a name="31">設問1</a></strong></p>
<p>〈解答〉　a：イ，b：エ</p>
<p>〈解説〉</p>
<p>●空欄a，bについて<br/>
○トランザクションT1の③による書き込みが行われる前に，トランザクションT2の①による読込みが行われた場合，トランザクションT2の③による書き込みを行った後に，トランザクションT1の③による書き込みを行うと，トランザクションT2の③による書き込み結果50＋10＝60が，トランザクションT1の③による書き込み結果50－5＝45により上書きされるので，在庫数が45になってしまう。<br/>
○トランザクションT1の③による書き込みが行われる前に，トランザクションT2の①による読込みが行われた場合，トランザクションT1の③による書き込みを行った後に，トランザクションT2の③による書き込みを行うと，トランザクションT1の③による書き込み結果50－5＝45が，トランザクションT2の③による書き込み結果50＋10＝60により上書きされるので，在庫数が60になってしまう。<br/>
したがって在庫数は45又は60となり，空欄a，bはイ，エが適切（順不同）。</p>
<p>なおトランザクションT2の③による書き込みが行われる前に，トランザクションT1の①による読込みが行われた場合も同様の結果になる。</p>
<hr>
<a href="23S_P_E2.HTM#31">問題へ</a>
<hr>
<p><strong><a name="32">設問2</a></strong></p>
<p>〈解答〉　ウ</p>
<p>〈解説〉</p>
<p>あるトランザクションが共有ロックしているデータに対して，他のトランザクションからの共有ロックの要求は受け付けるが，占有ロックの要求は共有ロックが解除されるまで待ち状態になる。照会トランザクションT3が白絵の具の在庫数データに共有ロックをした後，入荷トランザクションT4は白絵の具の在庫数データに占有ロックの要求を行うが，既にT3による共有ロック中であるため，T4は共有ロック解除待ちになる。同様に出荷トランザクションT5も白絵の具の在庫数データに占有ロックの要求を行うが，既にT3による共有ロック中であるため，T5も共有ロック解除待ちになる。</p>
<hr>
<a href="23S_P_E2.HTM#32">問題へ</a>
<hr>
<p><strong><a name="33">設問3</a></strong></p>
<p>〈解答〉　c：イ，d：エ</p>
<p>〈解説〉</p>
<p>●空欄cについて<br/>
トランザクションT7が赤絵の具の在庫数データを更新する場合，更新の整合性を保証するため，赤絵の具の在庫数データを読み込み，赤絵の具の在庫数データを書き込むまでの間，他のトランザクションによる赤絵の具の在庫数データの読込みと書込みを禁止しておく必要がある。したがって③で赤絵の具の在庫数データの読込みを行う直前のβの位置で，赤絵の具の在庫数データをロックする必要があり，空欄cはイが適切。</p>
<p>●空欄dについて<br/>
トランザクションT7が白絵の具の在庫数データを更新する場合，更新の整合性を保証するため，白絵の具の在庫数データを読み込み，白絵の具の在庫数データを書き込むまでの間，他のトランザクションによる白絵の具の在庫数データの読込みと書込みを禁止しておく必要がある。したがって⑤で白絵の具の在庫数データの書込みを行った直後のδの位置で，白絵の具の在庫数データのロックを解除する必要があり，空欄dはエが適切。</p>
<hr>
<a href="23S_P_E2.HTM#33">問題へ</a>
<hr>
<p><strong><a name="34">設問4</a></strong></p>
<p>〈解答〉　イ</p>
<p>〈解説〉</p>
<p>出荷トランザクションT8は，白絵の具5本と赤絵の具5本の出荷処理を行うため，白絵の具の在庫数データと赤絵の具の在庫数データに占有ロックを要求する。<br/>
このとき入荷トランザクションT9が，赤絵の具10本と青絵の具10本の入荷処理を行うため，赤絵の具の在庫数データと青絵の具の在庫数データに占有ロックを要求するが，既にT8により赤絵の具の在庫数データには占有ロックがかけられているので，T9は占有ロック解除待ちになる。<br/>
さらに出荷トランザクションT10が，青絵の具2本と白絵の具5本の出荷処理を行うため，青絵の具の在庫数データと白絵の具の在庫数データに占有ロックを要求するが，既にT9により青絵の具の在庫数データには占有ロックがかけられ，T8により白絵の具の在庫数データにも占有ロックがかけられており，互いに占有ロックの解除待ちとなるため，T8，T9，T10を同時に処理するとデッドロックが発生する可能性がある。</p>
<hr>
<a href="23S_P_E2.HTM#34">問題へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
<p><a name="40"><strong>問4</strong></a></p>
<hr>
<p><a name="41"><strong>設問</strong></a></p>
<p>〈解答〉　a：エ，b：ウ, c：イ，d：カ, e：ア</p>
<p>〈解説〉</p>
<p>●空欄aについて<br/>
ルータは，同一のネットワークに接続しているほかのルータが，ブロードキャストで定期的に送信する経路制御情報を受信することによって，自身のテーブルを更新する。最初の送信は起動直後に行い，以後30秒間隔で送信する。ルータ1，2，3の順に5秒間隔で起動するので，ルータ1，2，3の起動と経路制御情報の送信のタイミングは以下のようなタイムチャートになる。</p>
<p><img src="img/h23_pm_a4_1.png"/></p>
<p>ルータ1のテーブルの経路制御情報には，起動直後は，直接接続されたネットワークAとネットワークBの経路制御情報しかなく，ルータ2のテーブルの経路制御情報には，起動直後は，直接接続されたネットワークBとネットワークCの経路制御情報しかない。ネットワークDのための経路制御情報は，ルータ3の起動直後にルータ3にのみ保持されている。先ずルータ1の起動から5秒後に，ルータ2の起動直後の送信により図3の更新が行われ，ネットワークCのための経路制御情報がルータ1に反映される。さらにルータ1の起動から10秒後に，ルータ2に直接接続するルータ3のブロードキャストによる送信により，ルータ2にネットワークDのための経路制御情報が反映される。ルータ1にネットワークDのための経路制御情報が反映されるのは，ルータ2が起動直後に最初の送信を行ってから30秒経過後に，ルータ1に直接接続するルータ2がブロードキャストによる送信を行う時点になる。ルータ1の起動から5秒後にルータ2が起動するので，ルータ1にネットワークDのための経路制御情報が反映されるのは，ルータ1の起動から5＋30＝35秒後（図の緑の破線）になる。</p>
<p>●空欄bについて<br/>
ルータ1の起動から5秒後におけるルータ2の起動直後の送信により，図3のネットワークCのための経路制御情報がルータ1へ反映されるが，ルータ1の起動から10秒後のルータ3の起動直後の送信と，ルータ1の起動から30秒後のルータ1の送信により，ルータ2のテーブルは更新される。ルータ3の起動直後のテーブルには，ネットワークCとDのための経路制御情報しかなく，ネットワークAのための経路制御情報はルータ1にあるので，ルータ2にネットワークAのための経路制御情報が反映されるのは，ルータ1の起動から30秒後のルータ1の送信によってである。</p>
<p>●空欄cについて<br/>
○ルータ1の起動から10秒後のルータ3の送信によるルータ2のテーブルの更新</p>
<p><img src="img/h23_pm_a4_2.png"/></p>
<p>○ルータ1の起動から30秒後のルータ1の送信によるルータ2のテーブルの更新</p>
<p><img src="img/h23_pm_a4_3.png"/></p>
<p>●空欄dについて<br/>
空欄aの解説のタイムチャートより，ルータ1の起動から35秒後に，ルータ3に対してルータ2からの送信が行われ，初めてルータ3のテーブルが更新される。したがって，ルータ1の起動から20秒後の時点では，ルータ3のテーブルの経路制御情報は，ルータ3の起動直後の経路制御情報と同じで，ネットワークC及びDのための経路制御情報が保持されている。</p>
<p>●空欄eについて<br/>
空欄bにより，ルータ1の起動から30秒後のルータ1の送信によって，ルータ2にネットワークAのための経路制御情報が反映される。空欄cによれば，この更新によってルータ2にはネットワークA，B，C，Dのための経路制御情報が保持される。さらに，ルータ1の起動から35秒後のルータ2の送信によって，ルータ3が更新されるため，ルータ1の起動から40秒後には，ネットワークA，B，C，Dのための経路制御情報がルータ3に保持されていることになる。</p>
<hr>
<a href="23S_P_E2.HTM#41">問題へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
<p><a name="50"><strong>問5</strong></a></p>
<hr>
<p><a name="51"><strong>設問1</strong></a></p>
<p>〈解答〉　a：ウ，b：カ</p>
<p>〈解説〉</p>
<p>●空欄aについて<br/>
空欄aの条件がYesの場合に，招待券処理を行っているため，空欄aは招待券処理を行う条件に該当する。表1によれば，招待券処理では招待券の枚数を求めるための計算を行っている。プログラムに必要な機能（2）より，顧客ごとの招待券の枚数は，キャンペーン期間中に購入したすべての商品の購入金額の合計が5万円以上の顧客に対して1枚となる。表1によれば，初期処理及び売上伝票処理において作業ファイルを読み込んでいるが，期間中以外のレコードは読み飛ばしている。したがって，空欄aの条件はウの「購入金額合計≧50000」が適切。</p>
<p>●空欄bについて<br/>
空欄bの条件がYesの場合にあて先処理を行っているため，空欄bはあて先処理を行う条件に該当する。表1によれば，あて先処理では，あて先ファイルのレコードを編集して出力する処理を行う。プログラムに必要な機能（3）より，応募券又は招待券を送る顧客ごとに，あて先ファイルに1件のレコードを作成する。前処理で，応募券枚数←0，招待券枚数←0に初期設定された後，応募券処理と招待券処理での枚数集計を行っているため，応募券枚数＞0又は招待券枚数＞0となった顧客について，あて先ファイルのレコードを編集して出力する処理を行えばよい。したがって，空欄bの条件はカの「応募券枚数＞0　又は　招待券枚数＞0」が適切。</p>
<hr>
<a href="23S_P_E2.HTM#51">問題へ</a>
<hr>
<p><a name="52"><strong>設問2</strong></a></p>
<p>〈解答〉　オ</p>
<p>〈解説〉</p>
<p>空欄は応募券の集計処理に該当する。プログラムに必要な機能（1）より，顧客ごとの応募券の枚数は，キャンペーン対象の商品コードA001～A199の商品を期間中に購入した個数と同数となる。したがって，応募券枚数に作業ファイルのレコードの購入個数を加算する集計処理を行えばよく，空欄はオの「応募券枚数＋作業ファイルのレコードの購入個数」が適切。</p>
<hr>
<a href="23S_P_E2.HTM#52">問題へ</a>
<hr>
<p><a name="53"><strong>設問3</strong></a></p>
<p>〈解答〉　c：ウ, d：ウ</p>
<p>〈解説〉</p>
<p>●空欄c，dについて<br/>
購入日付が5月10日から6月20日までで，商品コードがA001～A199の商品を購入しているか又は購入金額の合計が5万円以上である顧客について1件のレコードがあて先ファイルに出力される。<br/>
表2のテストデータに対して，5月10日～6月20日までのキャンペーン期間中に購入した顧客について，招待券枚数と応募券枚数を集計すると次のようになる。</p>
<p><img src="img/h23_pm_a5_1.png"/></p>
<p>招待券の総枚数は3枚で，招待券枚数＞0又は応募券枚数＞0である上記の網掛けの顧客の集計データ5件があて先ファイルレコードに出力される。</p>
<hr>
<a href="23S_P_E2.HTM#53">問題へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
</blockquote>
</body>
</html>
