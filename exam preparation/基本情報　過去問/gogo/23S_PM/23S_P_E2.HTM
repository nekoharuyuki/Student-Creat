<html>
<head>
<title>平成23年度 春期 基本情報技術者 午後 問題（問3～問5）　特別試験</title>
<style type="text/css"><!--
body{line-height:150%;}
code{font-size:12pt;}
h3{text-align:center;}
div.caution{border:solid 1px #000000; padding:0.5em;}
--></style>
</head>
<body>
<blockquote>
<hr>
<h3>平成23年度　春期　基本情報技術者　特別試験<br/>
午後　問題（問3～問5）</h3>
<hr>
<p><a name="30"><strong>問3</strong></a>　データベースのトランザクション管理に関する次の記述を読んで，設問1～4に答えよ。</p>

<p>　個人向けに，画材をインターネット販売する会社が運営するWebサイトがある。<br/>
　このWebサイトが在庫管理に利用しているデータベースでは，絵の具の在庫数は色別に個々のデータとして管理されており，処理に応じて次の3種類のトランザクションが生成される。<br/>
　①　1回の商品注文に対して，一つの出荷トランザクションが生成される。<br/>
　②　1回の商品入荷に対して，一つの入荷トランザクションが生成される。<br/>
　③　1回の在庫照会に対して，一つの照会トランザクションが生成される。<br/>
　なお，一つのトランザクションで，複数の色の絵の具を処理することができる。</p>
<hr>
<p><a name="31"><strong>設問1</strong></a>　ACID特性に関する次の記述中の［　　　　　］に入れる正しい答えを，解答群の中から選べ。</p>

<p>　ACID特性とは，データベースの一貫性を保証するために必要な特性で，原子性，一貫性，独立性，耐久性の四つがある。このうち，一貫性や独立性を保証するためにトランザクション管理では排他制御が必要となる。例えば，白絵の具の在庫数が50だった場合，表1に示すトランザクションT1とT2が同時に実行されたとき，排他制御を行わないと実行後の在庫数は55とならず，在庫数が［　　a　　］又は［　　b　　］となってしまう可能性がある。<br/>
　なお，各トランザクションは，図1の①～③の順で在庫数データを処理する。</p><br/>

<p><strong>表1　トランザクションT1，T2の処理内容</strong><br/>
<img src="img/23s_pm_q03_01.png"></p>

<p><img src="img/23s_pm_q03_02.png"><br/>
<strong>図1　トランザクションT1，T2の処理順序</strong></p>

<p>解答群<br/>
ア　40　　　イ　45　　　ウ　50　　　エ　60　　　オ　65</p>
<hr>
<a href="23S_P_A2.HTM#31">設問1の正解例と解説へ</a>
<hr>
<p><a name="32"><strong>設問2</strong></a>　入荷トランザクション及び出荷トランザクションを処理する場合は対象データを占有ロックし，照会トランザクションを処理する場合は共有ロックする。<br/>
　なお，このデータベースを管理するDBMSでは，あるトランザクションが共有ロックしているデータを，ほかのトランザクションからロックする場合，共有ロックの要求は成功するが，占有ロックの要求は共有ロックが解除されるまで待ち状態となる。<br/>
　表2に示すトランザクションT3～T6を，図2に示すとおりに実行し，ロックを要求した場合，それぞれのトランザクションの状態について正しい説明を，解答群の中から選べ。</p>
　

<p><strong>表2　トランザクションT3～T6の処理内容</strong><br/>
<img src="img/23s_pm_q03_03.png"></p>

<p><img src="img/23s_pm_q03_04.png"><br/>
<strong>図2　トランザクションT3～T6の実行例</strong></p>

<p>解答群<br/>
ア　T4，T5，T6とも待ち状態となる。<br/>
イ　T4，T5，T6とも待ち状態とならない。<br/>
ウ　T4，T5は待ち状態となるが，T6は待ち状態とならない。<br/>
エ　T4は待ち状態となるが，T5，T6は待ち状態とならない。<br/>
オ　T6は待ち状態となるが，T4，T5は待ち状態とならない。</p>
<hr>
<a href="23S_P_A2.HTM#32">設問2の正解例と解説へ</a>
<hr>
<p><a name="33"><strong>設問3</strong></a>　出荷トランザクションT7の処理内容を表3に示す。次の記述中の［　　　　　］に入れる正しい答えを，解答群の中から選べ。<br/>
　なお，トランザクションT7は，図3の①～⑧の順で在庫数データを処理する。</p>
　
<p><strong>表3　トランザクションT7の処理内容</strong><br/>
<img src="img/23s_pm_q03_05.png"></p>

<p><img src="img/23s_pm_q03_06.png"><br/>
<strong>図3　トランザクションT7の処理順序</strong></p>

<p>　データをロックしている時間を最も短くするためには，“赤絵の具の在庫数データをロックする。”を挿入すべき適切な位置は［　　c　　］で，“白絵の具の在庫数データのロックを解除する。”を挿入すべき適切な位置は［　　d　　］である。<br/>
　なお，ほかのトランザクションとのデッドロックの発生に対する考慮は不要とする。</p>
<p>解答群<br/>
ア　α　　　イ　β　　　ウ　γ　　　エ　δ　　　オ　ε</p>
<hr>
<a href="23S_P_A2.HTM#33">設問3の正解例と解説へ</a>
<hr>
<p><a name="34"><strong>設問4</strong></a>　表4に示すトランザクションT8～T11のうち，解答群の組合せの中から，同時に処理された場合にデッドロックが発生する可能性のある組合せを選べ。<br/>
　なお，トランザクションT8～T11では，各絵の具の在庫数データをどのような順番で処理するかは，分からないものとする。</p>
　
<p><strong>表4　トランザクションT8～T11の処理内容</strong><br/>
<img src="img/23s_pm_q03_07.png"></p>

<p>解答群<br/>
ア　T8，T9<br/>
イ　T8，T9，T10<br/>
ウ　T9，T10，T11<br/>
エ　T10，T11</p>
<hr>
<a href="23S_P_A2.HTM#34">設問4の正解例と解説へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
<p><a name="40"><strong>問4</strong></a>　ルータの経路制御テーブルの更新に関する次の記述を読んで，設問に答えよ。</p>

<p>　ルータは，二つ以上の異なるネットワークをまたいだ通信における通信経路の選択を，ルータ内の経路制御情報を格納したテーブル（以下，テーブルという）に基づいて行う。同一のネットワークに接続された端末（ルータを含む）は同じネットワークアドレスをもつ。あるネットワークでブロードキャストしたパケットは異なるネットワークには転送されない。<br/>
　テーブルの各レコードは送信先ネットワークのための経路制御情報を表し，送信先ネットワークアドレス（主キー），転送先ルータのIPアドレス及び距離で構成される。送信先ネットワークアドレスは受信したパケットのあて先のネットワークアドレスであり，転送先ルータのIPアドレスはそのパケットを転送すべきルータのIPアドレスである。あるネットワークあてのパケットは，該当する転送先ルータに転送すればよいことを表す。距離は，そのルータから転送されたパケットが，送信先のネットワークに到達するまでに経由する，ルータの個数である。<br/>
　ネットワーク構成の例を図1に，図1中のルータ1のテーブルの例を図2に示す。</p>

<p><img src="img/23s_pm_q04_01.png"><br/>
<strong>注</strong>　10.0.0.0/24は，ネットワークアドレス10.0.0.0とサブネットマスク255.255.255.0を表す。<br/>
<strong>図1　ネットワーク構成の例</strong></p>

<p><img src="img/23s_pm_q04_02.png"><br/>
<strong>図2　ルータ1のテーブルの例</strong></p>

<p>　ルータは，同一のネットワークに接続しているほかのルータが，ブロードキャストで定期的に送信する経路制御情報を受信することによって，自身のテーブルを更新する。これによって，異なるネットワーク上の端末にパケットを送信するときに，目的の端末にパケットが到達するまでに経由するルータの個数が最小になるよう，テーブルを動的に構成することができる。テーブルの更新手順を次に示す。</p>

<p>〔テーブルの更新手順〕<br/>
（1）　ルータは，そのルータに直接接続されたすべてのネットワークに，ブロードキャストで，保持するすべての経路制御情報を送信する。最初の送信は起動直後に行い，以後30秒間隔で送信する。<br/>
（2）　起動中のルータは，ほかのルータから送信された経路制御情報を受信し，自身のテーブルを次のとおりに更新する。<br/>
①　受信した経路制御情報のそれぞれの距離に1を加え，その距離を更新距離とする。<br/>
②　受信した経路制御情報のうち，送信先ネットワークアドレスが一致するレコードが自身のテーブルにあるものは，更新距離と該当するレコードの距離を比較し，更新距離の方が小さい場合は，距離を更新距離の値に，転送先ルータのIPアドレスを受信した経路制御情報の送信元ルータのIPアドレスに更新する。<br/>
③　受信した経路制御情報のうち，送信先ネットワークアドレスが一致するレコードが自身のテーブルにないものは，自身のテーブルに追加する。ただし，距離は更新距離の値とし，転送先ルータのIPアドレスは受信した経路制御情報の送信元ルータのIPアドレスとする。</p>

<hr>
<p><a name="41"><strong>設問</strong></a>　次の記述中の［　　　　　］に入れる正しい答えを，解答群の中から選べ。</p>


<p>　図1のネットワーク構成の例において，ルータ1，2，3を順に，5秒間隔で起動した。各ルータの起動直後のテーブルには，それぞれのルータが直接接続されたネットワーク（ルータ1ではネットワークAとネットワークB）の経路制御情報だけがあるとすると，ルータ1にネットワークCのための経路制御情報が反映されるのは，図3に示すように，ルータ1を起動した5秒後（ルータ2が起動直後に送信したテーブルを受信したとき）であり，ネットワークDのためめ経路制御情報が反映されるのは，ルータ1の起動から［　　a　　］秒後である。</p>

<p><img src="img/23s_pm_q04_03.png"><br/>
<strong>注</strong>（1），（2）①～③は〔テーブルの更新手順〕の（1），（2）①～③を表す。<br/>
<strong>図3　ネットワークCのための経路制御情報のルータ1への反映</strong></p>

<p>　ルータ2にネットワークAのための経路制御情報が反映されるのは，ルータ1の起動から［　　b　　］秒後であり，そのときのルータ2のテーブルは，表1となる。</p>

<p><strong>表1　ルータ2のテーブル</strong><br/>
<img src="img/23s_pm_q04_04.png"></p>

<p>　また，ルータ1の起動から20秒後には，ルータ3のテーブルに，［　　d　　］のための経路制御情報が保持され，40秒後には，［　　e　　］のための経路制御情報が保持されている。</p>

<p>a，bに関する解答群<br/>
ア　5　　　イ　10　　　ウ　30　　　エ　35　　　オ　40</p>

<p>cに関する解答群<br/>
ア　<img src="img/23s_pm_q04_05.png"><br/>
イ　<img src="img/23s_pm_q04_06.png"><br/>
ウ　<img src="img/23s_pm_q04_07.png"><br/>
エ　<img src="img/23s_pm_q04_08.png"></p>

<p>d，eに関する解答群<br/>
ア　ネットワークA，B，C及びD<br/>
イ　ネットワークA，B及びC<br/>
ウ　ネットワークA，B及びD<br/>
エ　ネットワークA，C及びD<br/>
オ　ネットワークB，C及びD<br/>
カ　ネットワークC及びD</p>
<hr>
<a href="23S_P_A2.HTM#41">設問の正解例と解説へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
<p><a name="50"><strong>問5</strong></a>　あて先作成プログラムに関する次の記述を読んで，設問1～3に答えよ。</p>

<p>　通信販売会社のZ社では，顧客に対して顧客番号を発行し，顧客マスタファイルで管理している。<br/>
　このたび，2011年5月10日から6月20日までの販売促進キャンペーン期間中（以下，期間中という）の顧客の購入状況に応じて，懸賞応募券（以下，応募券という）と催物招待券（以下，招待券という）を郵送することになった。そこで，売上伝票ファイルから応募券と招待券を送る顧客を選び，あて先ファイルを出力するあて先作成プログラムを作成することにした。<br/>
　このプログラムに必要な機能は，次のとおりである。<br/>
（1）　顧客ごとの応募券の枚数は，この販売促進キャンペーンの対象商品である商品コードA001～A199の商品を期間中に購入した個数と同数とする。<br/>
（2）　顧客ごとの招待券の枚数は，期間中に購入したすべての商品の購入金額の合計が5万円以上の顧客に対して1枚とする。<br/>
（3）　応募券又は招待券を送る顧客ごとに，あて先ファイルに1件のレコードを作成する。<br/>応募券と招待券の両方を送る場合でも1顧客に対して1件のレコードを作成する。<br/>
（4）　応募券の総枚数，招待券の総枚数及びあて先ファイルのレコードの件数を，合計表に印字する。<br/>
　顧客マスタファイル，売上伝票ファイル，あて先ファイルは順ファイルである。これらのレコード様式を，図1に示す。</p>

<p><img src="img/23s_pm_q05_01.png"></br>
<strong>図1　各ファイルのレコード様式</strong></p>

<p>　顧客マスタファイルは，顧客番号の昇順に整列されている。売上伝票ファイルを，顧客番号の昇順に整列した作業ファイルを作り，このプログラムに入力する。</br>
　このプログラムの入出力関連を図2に，プログラムの流れを図3に，主なモジュールの処理内容を表1に示す。また，このプログラムのテストに用いる作業ファイルのテストデータを表2に，このテストデータを用いた場合の合計表の出力結果を図4に示す。</p>

<p><img src="img/23s_pm_q05_02_01.png"></br>
<strong>図2　あて先作成プログラムの入出力関連</strong></p>

<p><img src="img/23s_pm_q05_02_02.png"></br>
<strong>注</strong>　綱掛けの部分は，表示していない。</br>
<strong>図3　あて先作成プログラムの流れ</strong></p>

<p><strong>表1　主なモジュールの処理内容</strong></br>
<img src="img/23s_pm_q05_03.png"></br>
<strong>注</strong>　応募券枚数，招待券枚数，購入金額合計，W顧客番号，応募券総枚数，招待券総枚数及びあて先ファイルレコード件数は作業領域である。</p>

<p><strong>表2　作業ファイルのテストデータ</strong></br>
<img src="img/23s_pm_q05_04.png"></p>

<p><img src="img/23s_pm_q05_05.png"></br>
<strong>注</strong>　綱掛けの部分は，表示していない。</br>
<strong>図4　表2のテストデータを用いた場合の合計表の出力結果</strong></p>
<p><strong><a name="51">設問1</a></strong>　図3中の［　　　　　］に入れる正しい答えを，解答群の中から選べ。</p>
<p>aに関する解答群</br>
ア　A001 ≦ 作業ファイルレコードの商品コード ≦ A199</br>
イ　A001 ≦ 作業ファイルレコードの商品コード ≦ A199　又は　購入金額合計 ≧ 50000</br>
ウ　購入金額合計 ≧ 50000</br>
エ　作業ファイルレコードの購入個数 ＞ 0</br>
オ　招待券枚数 ＞ 0</p>

<p>bに関する解答群</br>
ア　A001 ≦ 作業ファイルレコードの商品コード ≦ A199</br>
イ　A001 ≦ 作業ファイルレコードの商品コード ≦ A199　かつ　作業ファイルレコードの購入金額 ≧ 50000</br>
ウ　A001 ≦ 作業ファイルレコードの商品コード ≦ A199　又は　作業ファイルレコードの購入金額 ≧ 50000</br>
エ　応募券枚数 ＞ 0</br>
オ　応募券枚数 ＞ 0　かつ　招待券枚数 ＞ 0</br>
カ　応募券枚数 ＞ 0　又は　招待券枚数 ＞ 0</br>
キ　作業ファイルレコードの購入金額 ≧ 50000</br>
ク　作業ファイルレコードの購入個数 ＞ 0</p>
<hr>
<a href="23S_P_A2.HTM#51">設問1の正解例と解説へ</a>
<hr>
<p><strong><a name="52">設問2</a></strong>　表1中の［　　　　　］に入れる正しい答えを，解答群の中から選べ。解答群中の[]はガウス記号であり，[x]は，xを超えない最大の整数値を表す。</p>

<p>解答群</br>
ア　[作業ファイルレコードの購入金額／50000]</br>
イ　1</br>
ウ　応募券枚数＋[作業ファイルレコードの購入金額／50000]</br>
エ　応募券枚数＋1</br>
オ　応募券枚数＋作業ファイルレコードの購入個数</br>
カ　作業ファイルレコードの購入個数</p>
<hr>
<a href="23S_P_A2.HTM#52">設問2の正解例と解説へ</a>
<hr>
<p><strong><a name="53">設問3</a></strong>　図4中の［　　　　　］に入れる正しい答えを，解答群の中から選べ。</p>

<p>cに関する解答群</br>
ア　1</br>
イ　2</br>
ウ　3</br>
エ　4</br>
オ　5</br>
カ　6</br>
キ　7</br>
ク　8</br>
ケ　9</br>
コ　10</p>

<p>dに関する解答群</br>
ア　3</br>
イ　4</br>
ウ　5</br>
エ　7</br>
オ　9</br>
カ　10</br>
キ　11</br>
ク　12</br>
ケ　13</br>
コ　14</p>
<hr>
<a href="23S_P_A2.HTM#53">設問3の正解例と解説へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
<a href="23S_P_E3.HTM">■問6へ進む</a>
<hr>
</blockquote>
</body>
</html>
