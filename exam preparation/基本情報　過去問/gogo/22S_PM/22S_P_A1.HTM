<html>
<head>
<title>平成22年度 春期 基本情報技術者 午後 正解例と解説（問1～問2）</title>
<style type="text/css"><!--
body{line-height:150%;}
code{font-size:12pt;}
h3{text-align:center;}
div.caution{border:solid 1px #000000; padding:0.5em;}
--></style>
</head>
<body>
<blockquote>
<hr>
<h3>平成22年度　春期　基本情報技術者<br>
午後　正解例と解説（問1～問2）</h3>
<hr>
<p><strong><a name="10">問1</a></strong></p>
<hr>
<p><strong><a name="11">設問</a>1</strong></p>
<p>〈解答〉　a：カ，b：エ，b：ウ</p>
<p>〈解説〉</p>
<p>●空欄aについて<br/>
実行開始時にはキャッシュ内にデータが入っていないので，最初に1000番地の<code>LOAD</code>命令が実行されると，ブロック番号45の主記憶の内容がキャッシュ内のバッファ1に読み込まれる。その結果，キャッシュのディレクトリ1のブロック番号が45に，順位が1に，フラグが0にセットされる。したがって空欄aのブロック番号はカの45が適切。<br/>
<br/>
<img src="img/pma01.png"></p>

<p>●空欄bについて</p>
<ul>
<li>次に実行される1001番地の<code>LOAD</code>命令の参照ブロックは直前と同じ45なので，キャッシュ内のディレクトリ1にあり，キャッシュのバッファ1より読み込む。</li>
<li>次の1002番地の<code>LOAD</code>命令の参照ブロックは41なので，キャッシュ内のディレクトリになく，ブロック番号41の主記憶の内容がキャッシュ内のバッファ2に読み込まれる。その結果，キャッシュのディレクトリ2のブロック番号が41に，順位が2に，フラグが0にセットされる。<br/>
<br/>
<img src="img/pma02.png"></li>

<li>次の1003番地の<code>ADD</code>命令の参照ブロックは42なので，キャッシュ内のディレクトリになく，ブロック番号42の主記憶の内容がキャッシュ内のバッファ3に読み込まれる。その結果，キャッシュのディレクトリ3のブロック番号が42に，順位が3に，フラグが0にセットされる。<br/>
<br/>
<img src="img/pma03.png"></li>

<li>次の1004番地の<code>ADD</code>命令の参照ブロックは43なので，キャッシュ内のディレクトリにない。このとき未使用バッファがないので，キャッシュ内に最も古くからブロックが存在するバッファ1に，ブロック番号43の主記憶の内容が読み込まれる。その結果，キャッシュのディレクトリ1のブロック番号が43に，順位が3に，フラグが0にセットされ，ディレクトリ3の順位が2に，ディレクトリ2の順位が1に更新される。<br/>
<br/>
<img src="img/pma04.png"></li>
</ul>
<p>したがって，空欄bのブロック番号は，エの43が適切。</p>

<p>●空欄cについて</p>
<ul>
<li>次の1005番地の<code>STORE</code>命令の参照ブロックは41なので，キャッシュ内のディレクトリ2にあるので，バッファ2内の主記憶4000番地に対応する番地にレジスタ<code>R3</code>の内容を格納し，ディレクトリ2のフラグを1にセットする。<br/>
<br/>
<img src="img/pma05.png"></li>

<li>次の1006番地の<code>STORE</code>命令の参照ブロックは44なので，キャッシュ内のディレクトリにない。このとき未使用バッファがないので，キャッシュ内に最も古くからブロックが存在するバッファ2に，ブロック番号44の主記憶の内容が読み込まれるが，ディレクトリ2のフラグが1なので，バッファ2のブロック番号41の内容を主記憶に書き戻してからブロック番号44の読み込みを行う。その結果，キャッシュのディレクトリ2のブロック番号が44に，順位が3に，フラグが1にセットされ，ディレクトリ1の順位が2に，ディレクトリ3の順位が1に更新される。<br/>
<br/>
<img src="img/pma06.png"></li>
</ul>
<p>したがって，空欄cのブロック番号は，ウの42が適切。</p>
<hr>
<a href="22S_P_E1.HTM#11">問題へ</a>
<hr>
<p><strong><a name="12">設問2</a></strong></p>
<p>〈解答〉　d：イ，e：ク，f：ウ</p>
<p>〈解説〉</p>
<p>●空欄dについて<br/>
設問1では，未使用バッファがないとき，キャッシュ内に最も古くからブロックが存在するバッファに参照ブロックが読み込まれるが，設問2では，未使用バッファがないとき，参照されていない時間が最も長いブロックが存在するバッファに参照ブロックが読み込まれる。これに注意してディレクトリ部の内容の変化を順にトレースすると次のようになる。</p>
<ul>
<li>1000番地～1003番地の命令が実行される間は，未使用バッファがあるので設問1と同じである。<br/>
<br/>
<img src="img/pma07.png"></li>

<li>次の1004番地の<code>ADD</code>命令の参照ブロックは43なので，キャッシュ内のディレクトリにない。このとき未使用バッファがないので，キャッシュ内で参照されていない時間が最も長いブロックが存在するバッファ1に，ブロック番号43の主記憶の内容が読み込まれる。その結果，キャッシュのディレクトリ1のブロック番号が43に，順位が3に，フラグが0にセットされ，ディレクトリ3の順位が2に，ディレクトリ2の順位が1に更新される。<br/>
<br/>
<img src="img/pma08.png"></li>

<li>次の1005番地の<code>STORE</code>命令の参照ブロックは41なので，キャッシュ内のディレクトリ2にあるので，バッファ2内の主記憶4000番地に対応する番地にレジスタ<code>R3</code>の内容を格納し，ディレクトリ2のフラグを1にセットする。ディレクトリ2のブロック番号41を参照したので，ディレクトリ2の順位が3に，ディレクトリ1の順位が2に，ディレクトリ3の順位が1に更新される。<br/>
<br/>
<img src="img/pma09.png"></li>

<li>次の1006番地の<code>STORE</code>命令の参照ブロックは44なので，キャッシュ内のディレクトリにない。このとき未使用バッファがないので，キャッシュ内で参照されていない時間が最も長いブロックが存在するバッファ3に，ブロック番号44の主記憶の内容が読み込まれる。その結果，キャッシュのディレクトリ3のブロック番号が44に，順位が3に，フラグが1にセットされ，ディレクトリ2の順位が2に，ディレクトリ1の順位が1に更新される。<br/>
<br/>
<img src="img/pma10.png"></li>
</ul>
<p>したがって，ディレクトリ2の空欄dのブロック番号は41，フラグは1になるのでイが適切。</p>

<p>●空欄eについて</p>
<ul>
<li>次の1007番地と1008番地の命令の参照ブロックはないので，ディレクトリ部の内容は変化しない。</li>
<li>ここで1回目のループを終えて2回目のループに入り，1002番地の命令を実行する。1002番地の<code>LOAD</code>命令の参照ブロックは41なので，キャッシュ内のディレクトリ2にあり，キャッシュのバッファ2より読み込む。ディレクトリ2のブロック番号41を参照したので，ディレクトリ2の順位が3に，ディレクトリ3の順位が2に更新される。<br/>
<br/>
<img src="img/pma11.png"></li>
</ul>
<p>したがって，ディレクトリ3の空欄eのブロック番号は44，フラグは1になるのでクが適切。</p>

<p>●空欄fについて</p>
<ul>
<li>次の1003番地の<code>ADD</code>命令の参照ブロックは42なので，キャッシュ内のディレクトリになく，ブロック番号42の主記憶の内容が，キャッシュ内で参照されていない時間が最も長いブロックが存在するバッファ1に読み込まれる。その結果，キャッシュのディレクトリ1のブロック番号が42に，順位が3に，フラグが0にセットされる。ディレクトリ1のブロック番号42の参照に伴い，ディレクトリ2の順位が2に，ディレクトリ3の順位が1に更新される。<br/>
<br/>
<img src="img/pma12.png"></li>
</ul>
<p>したがって，ディレクトリ1の空欄fのブロック番号は42，フラグは0になるのでウが適切。</p>
<hr>
<a href="22S_P_E1.HTM#12">問題へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
<p><strong><a name="21">問2</a></strong></p>
<hr>
<p><strong><a name="21">設問1</a></strong></p>
<p>〈解答〉　オ</p>
<p>〈解説〉</p>
<p>2分木を深さ優先探索で探索しながら，帰り掛けに節の演算子opを評価するので，<br/>
①　最初に演算子opが帰り掛けに出現するオペランドbとcに先ず一番下の演算opを施す<br/>
②　次に下から二つ目の演算子opが帰り掛けに出現し，オペランドaと直前の演算結果（b op c）に演算opを施す<br/>
③　最後に一番上の演算子opが帰り掛けに出現し，直前の演算結果a op （b op c）とオペランドdに演算opを施す<br/>
したがって式「a op （b op c） op d」の2分木は，次のようにオの2分木で表現される。</p>

<p><img src="img/pma13.png"></p>

<p>したがってオが適切。</p>
<hr>
<a href="22S_P_E1.HTM#21">問題へ</a>
<hr>
<p><strong><a name="22">設問2</a></strong></p>
<p>〈解答〉　イ</p>
<p>〈解説〉</p>
<p>式の構文規則（1）～（4）を構文木に変換すると，次のようになる。</p>

<p><img src="img/pma14.png"></p>

<p>この構文木を用いて式a op1 b op2 c op2 （ d op1 e ）を構文解析すると，次のような構文木が生成される。</p>

<p><img src="img/pma15.png"></p>

<p>したがってイが適切。</p>
<hr>
<a href="22S_P_E1.HTM#22">問題へ</a>
<hr>
<p><strong><a name="23">設問3</a></strong></p>
<p>〈解答〉　ウ</p>
<p>〈解説〉</p>
<p>後置表記法では，二つのオペランドの後に演算子を記述する。</p>

<p>①　a×bはab×，c×dはcd×になる。<br/>
②　a×b＋c×dは，ab×とcd×の後に演算子を記述すればよく，ab×cd×＋になる。<br/>
③　a×b＋c×d＋eは，ab×cd×＋とeの後に＋を記述すればよく、ab×cd×＋e＋になる。</p>

<p>したがってウが適切。</p>
<hr>
<a href="22S_P_E1.HTM#23">問題へ</a>
<hr>
<p><strong><a name="24">設問4</a></strong></p>
<p>〈解答〉　ウ</p>
<p>〈解説〉</p>
<p>式a＋b＋c×dを後置表記法で表現するとab＋cd×＋になる。<br/>
これをスタックを使って左から右に評価すると，スタックの操作順序は次のようになる。したがってウが適切。</p>

<p><img src="img/pma16.png"></p>
<hr>
<a href="22S_P_E1.HTM#24">問題へ</a>
<hr>
<a href="INDEX.HTM">■メニューへ戻る</a>
<hr>
</blockquote>
</body>
</html>
