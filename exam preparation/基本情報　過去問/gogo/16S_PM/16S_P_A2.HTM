<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
<meta http-equiv="Content-Language" content="ja">
<TITLE>平成16年度春期試験　(問3～問5)</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" topmargin="0" leftmargin="0">
<blockquote>
  <hr>
  <H3 align="center">平成16年度春期試験　正解例と解説(問3～問5)</H3>
<HR WIDTH=100%>
<A NAME="30">　<BR>
<b>
問3</b></a><b>　</b>

<HR>
<A NAME="31">　<BR>
<b>
設問1</b></a><br>
<br>
＜解答＞　　ａ　イ　　　ｂ　キ<br>
<br>＜解説＞<br>
空欄ａについて<br>
5ビットのビット列で2<sup>5</sup>＝32種類，6ビットのビット列で2<sup>6</sup>＝64種類の文字を識別できる。したがって37種類の文字を識別するには，6ビットのビット列を対応させる必要がある。<br>
<br>
空欄ｂについて<br>
1文字を全角文字16ビットで表現すると，100文字で1,600ビットになるが，1文字を6ビットで表現すると100文字で600ビットになる。したがって圧縮の割合は600÷1,600×100＝37.5％になる。<br>
<br>

<HR WIDTH=100%>

<A HREF="16S_P_E2.HTM#31">問題へ</A>
<HR>
<A NAME="32">　<BR>
<b>
設問2</b></a><br>
<br>
＜解答＞　　ｃ　イ　　　ｄ　エ　　　ｅ　エ<br>
<br>＜解説＞<br>
空欄ｃ，ｄについて<br>
ハフマン符号化の手順(1)により出現回数の多い順に並べ替える操作と，手順(2)により最下位になった文字とその一つ上位の2文字をグループ化して仮想の文字として扱う操作を以下のように繰返す。<br>
<br>
<img border="0" src="image/PMA3-02.jpg" width="550" height="250"><br>
<br>
したがって①は32，②は57になる。<br>
<br>
空欄ｅについて<br>
100文字からなる圧縮対象の文字列の長さは，図4によりその出現ビット累計が484ビットなので，全角1文字を16ビットで表現する場合の1,600ビットに比べ，484÷1,600×100≒30.3％のビット数で表現できる。<br>
<br>

<HR WIDTH=100%>

<A HREF="16S_P_E2.HTM#32">問題へ</A>
<HR WIDTH=100%>
<p><A HREF="INDEX.HTM">メニューへ戻る</A>　</p>
<HR WIDTH=100%>
<A NAME="40">　<BR>
<b>
問4</b></a>　
<HR WIDTH=100%>
<A NAME="41">
<b>　<BR>
設問1</b></a>
<br>＜解答＞　ａ　エ　　　ｂ　ク<br>
<br>＜解説＞擬似言語の併合処理では，要素数がspan_size個の併合対象領域の配列を前半分と後半分に2分して，前半分の配列の要素と後半分の配列の要素を先頭から比較し，小さい方を出力領域output[ ]にセットすることにより併合している。要素数がspan_size個の併合対象領域の配列要素の併合が終われば，span_idxにspan_sizeだけ加算して，次の併合対象領域に移動する。要素数がspan_size個の併合対象領域すべてについての併合が終われば，さらに要素数span_sizeを2倍に拡大し，併合を繰返す。そして要素数span_sizeが配列の要素数sizeになるまでこれを繰返すことにより全要素を併合している。
空欄ａを条件とする繰返ループを抜けた直後の処理span_idx ← span_idx + span_sizeで，ループを抜けるごとにspan_idxがspan_sizeだけ加算され，次の併合対象領域に移動する。したがって空欄ａを条件とする繰返ループは，併合対象領域内の要素の併合を行っている繰返処理であることが分かる。<br>
2分した併合対象領域の前半分の要素の併合が終わればa_yetにfalseをセットし，後半分の要素の併合が終わればb_yetにfalseをセットし，a_yet，b_yetがともにfalseになり1つの併合対象領域の併合が終われば，空欄ａを条件とするループを抜けて，次の併合対象領域に移動すればよい。したがって空欄ａを条件とするループは，a_yet，b_yetのいずれかがtrueである間繰返せばよいので，空欄ａの繰返条件は，a_yet = true or b_yet = trueになる。<br>
前半分の配列の要素と後半分の配列の要素をそれぞれ1つ取出して比較しているが，小さい方を出力領域output[write_idx]にセットしているが，この出力領域のインデックスwrite_idxに関するインクリメントの処理がなく，これを空欄ｂで行う必要がある。したがって空欄ｂは，write_idx ← write_idx + 1になる。<br>
span_idx≧sizeとなり，要素数がspan_size個の併合対象領域すべてについての併合が終われば，γの処理でさらに要素数span_sizeを2倍に拡大し，併合処理を繰返している。<br>
<br>
<HR WIDTH=100%> 
<A HREF="16S_P_E2.HTM#41">問題へ</A> 
<HR WIDTH=100%>
<A NAME="42">
<b>　<BR>
設問2</b></a>
<br>＜解答＞　ｃ　ウ　　　ｄ　イ　　　ｅ　ウ<br>
<br>＜解説＞<br>
<img border="0" src="image/PMA4-02.jpg" width="400" height="140"><br>
<br>
上記のように3回の併合処理を実行するが，実際は2回目の併合が終了した時点で昇順に並んでしまう。<br>
データが昇順に並んだ時点で終了させるために，変更1～3の処理を加える。変更3の処理で，span_sizeに配列の要素数sizeをセットすると，ループを抜けて終了する。したがって昇順に整列されていれば変更3の処理により，ループを抜け終了すればよい。そのための条件がordered = trueなので，昇順でない部分があればordered にfalseをセットする必要がある。これを空欄ｅの処理で行っている。つまり出力領域にセットされた値output[write_idx]が，直前にセットされた値output[write_idx－1]よりも小さくて昇順でない部分があるとき，ordered にfalseをセットすればよい。したがって空欄ｅはoutput[write_idx－1] ＞ output[write_idx]になる。<br>
<br>
<HR WIDTH=100%> 
<A HREF="16S_P_E2.HTM#42">問題へ</A> 
<hr>
<p>
<A HREF="INDEX.HTM">メニューへ戻る</A></p>
<HR WIDTH=100%>
  　<BR>
<b><a name="50">問5</a>　</b>
<hr>
<p><b><a name="51">設問1</a>　</b>
<br>＜解答＞　　ａ　オ　　　ｂ　イ<br>
<br>＜解説＞<br>［システムの概要］<br>（3）によれば，利用者がシステムを利用する日時が，最後に利用した日時から24時間を越える場合，現在時刻の24時間前から登録されたすべてのニュースを抽出する。<br>［処理の説明］<br>（2）①のニュース抽出処理では，ニュースファイルのレコードの登録年月日，登録時刻が，一時ファイルＡの抽出年月日，抽出開始年月日以降という条件で抽出する。この場合，利用者ファイルの前回利用年月日，前回利用時刻が2004年4月1日，20時38分で，利用者がシステムを利用するのが2004年4月3日の17時00分であり，最後に利用した日時から24時間を越えるので，24時間前の2004年4月2日17時00分以降に登録されたニュースを抽出する必要がある。したがって空欄ａの抽出開始年月日は20040402，空欄ｂの抽出開始時刻は1700になる。<br>
<br>
<HR WIDTH=100%>
  <a HREF="16S_P_E2.HTM#51">問題へ</a>
<HR WIDTH=100%>
<b><a name="52">設問2</a>　</b>
<br>＜解答＞　ｃ　カ　　　ｄ　ア<br>
<br>＜解説＞一時ファイルＢを整列した一時ファイルCをもとに，分類ごとに最大10件抽出し，その結果を端末種別に従って以下の様式で出力する。<br>
　(1)端末種別が“簡易”の場合<br>
　　　発生年月日，発生時刻，分類，見出し，概要<br>
　(2)端末種別が“詳細”の場合<br>
　　　発生年月日，発生時刻，分類，見出し，詳細，画像ファイルのアドレス<br>
したがって一時ファイルBのレコードの項目には，<br>
発生年月日，発生時刻，分類，見出し，概要，詳細，画像ファイルのアドレス<br>
及び，端末種別を判定する項目として“端末種別”を含む必要がある。<br>
これより空欄ｃは分類，空欄ｄは端末種別になる。<br>
<br>
<HR WIDTH=100%>
  <a HREF="16S_P_E2.HTM#52">問題へ</a>
<HR WIDTH=100%>
<b><a name="53">設問3</a>　</b>
<br>＜解答＞　ｅ　ケ　　　ｆ　ク　　　ｇ　キ<br>
<br>＜解説＞［システムの概要］(2)によれば，システムが提供するニュースは，登録されている分類ごとに，発生年月日，発生時刻の新しいものから最大10件ずつ表示する。したがってこの順に出力する必要があるので，ニュース整列処理では，第1整列キーを分類として文字コードの昇順に，第2整列キーを発生年月日として降順に，第3整列キーを発生時刻として降順に整列しておく必要がある。<br>
<br>
<HR WIDTH=100%>
  <a HREF="16S_P_E2.HTM#53">問題へ</a>
<HR WIDTH=100%>
<b><a name="54">設問4</a>　</b>
<br>＜解答＞　ｈ　ウ　　　ｉ　ア<br>
<br>＜解説＞この利用者は2004年4月1日11時00分にシステムを利用するが，前回利用したのが2004年4月1日4時00分で，最後に利用した日時から24時間以内なので，最後に利用した2004年4月1日4時00分以降に登録されたニュースが抽出されて，整列後一時ファイルCに書出される。したがって一時ファイルCに書出されるレコードは，<br>
　　　①分類が政治であるレコード　　　1＋4＋2＋3＋6＋3＝19件<br>
　　　②分類が経済であるレコード　　　2＋2＋6＋8＋2＋4＝24件<br>
　　　③分類がスポーツであるレコード　1＋1＋3＋2＝7件<br>
合計で19＋24＋7＝50件になる。またそのうち分類ごとに最大10件表示されるので，<br>
　　　①分類が政治であるニュース　　　10件<br>
　　　②分類が経済であるニュース　　　10件<br>
　　　③分類がスポーツであるニュース　 7件<br>
合計で10＋10＋7＝27件が表示される。<br>
<br>
<HR WIDTH=100%>
  <a HREF="16S_P_E2.HTM#54">問題へ</a>
<HR WIDTH=100%>
<p>
<A HREF="INDEX.HTM">メニューへ戻る</A></p>
<HR WIDTH=100%>
  <p>　</p>
</blockquote>
</BODY>
</HTML>
