<HTML>
<HEAD>
<TITLE>平成16年度春期試験　(問1～2)</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" topmargin="0" leftmargin="0" style="font-size: 12pt">
<BLOCKQUOTE>
<hr>
<H3 align="center">平成16年度春期試験　正解例と解説(問1～問2)</H3>
<basefont size="3">
<HR WIDTH=100%>
<font size="3">
<A NAME="10">
<b>
問1</b></a>
</font>
<A NAME="10">
<HR WIDTH=100%>
</a><font size="3"><A NAME="11">
<b>
設問1</b></a><b><A NAME="11"></a>　</b></font>
<br><br>＜解答＞　エ<br>
<br>＜解説＞“0011＋0101”の計算では，右端ビットから順に①1＋1②1＋0③0＋1④0＋0の計算を行うので，q0→11/0→q1→10/0→q1→01/0→q1→00/1→q0の順に遷移する。<br>
<br>
<HR WIDTH=100%>
<A HREF="16S_P_E1.HTM#11"><font size="3">問題へ</font></A>
<HR WIDTH=100%> 
<p><font size="3"><b><a name="12">設問2</a></b>　</font></p> 
<p> 
<br>＜解答＞　ａ　ア　　　ｂ　キ　　　ｃ　ク<br>
<br>＜解説＞直前の計算で状態q0であったとき，つまり下位けたからの繰り上がりｃが0のときは，加算結果の1けた目ｓがｓ＝ｘ xor yで求まる。<br>
直前の計算で状態q1であったとき，つまり下位けたからの繰り上がりｃが1のときは，加算結果の1けた目ｓがｓ＝not（ｘ xor y）で求まる。<br>
①空欄ａが成立つ場合に，s[i]の値にx[i] xor y[i]をセットしているので，空欄ａは状態q0であることを示す条件になる。<br>
②全加算処理の状態遷移図の初期状態はq0なので，まずs[i]の値をx[i] xor y[i]により求めることになり，変数swの初期値が0であるので，空欄ａの条件をsw＝0とする必要がある。つまり変数swは，状態q0のときに0，状態q1のときに1となる状態を示すフラグであることが分かる。したがって空欄ｂで，状態q0にあるときの次の遷移状態swを決める処理が必要になり，また空欄ｃで，状態q1にあるときの次の遷移状態swを決める処理が必要になる。<br>
状態q0にある場合，00/0，01/1，10/1のときは同じq0に遷移し，11/0のときだけq1に遷移する。<br>
したがって空欄ｂの処理はsw ← x[i] and y[i]とすればよい。<br>
状態q1にある場合，01/0，10/0，11/1のときは同じq1に遷移し，00/1のときだけq0に遷移する。<br>
したがって空欄ｃの処理はsw ← x[i] or y[i]とすればよい。<br>
<br>
<HR WIDTH=100%>
<A HREF="16S_P_E1.HTM#12"><font size="3">問題へ</font></A>
<HR WIDTH=100%>
<A HREF="INDEX.HTM">メニューへ戻る</A> 
</font> 
<HR WIDTH=100%> <font size="3">   
<a NAME="20">   
<b>問2</b></a><b>　</b>
</font>
<hr> 
<p> 
<font size="3"> 
<b><a name="21">設問1</a></b>　</font>
<font size="3"> 
<br><br>＜解答＞　ウ<br>
<br>＜解説＞トランザクションTR2が障害により途中で異常終了しているので，この途中で終わったTR2の不完全な更新のためチェックポイント以降のデータベースの更新が，正常ではない。このシステムでは，チェックポイントで，更新前ログ及び更新後ログへの情報書出しとデータベースへの書出しを一致させているので，システム障害発生直前のチェックポイントまで戻すことによって，整合性を保てる。したがってチェックポイント以降のトランザクションによる更新を取消して，システム障害発生直前のチェックポイントまで戻す必要がある。チェックポイントまでに既に更新を終わっているTR1を除いた，TR2，TR3，TR4が障害復旧の対象になる。<br>
<br>
<HR WIDTH=100%>   
<a HREF="16S_P_E1.HTM#21"><font size="3">問題へ</font></a>  
<HR WIDTH=100%> 
<p><font size="3"><b><a name="22">設問2</a></b>　</font></p> 
<p> 
<br>＜解答＞　エ<br>
<br>＜解説＞ロールバック処理では，直前のチェックポイント以降のデータベースに対する更新を取消して，ログファイルの更新前情報を用いて，データベースを直前のチェックポイントに戻す。したがってTR2，TR3，TR4による更新は取消され，TR1による更新だけが反映された状態になる。つまりA＋100だけが行われるので，エが適切。<br>
<br>
<hr> 
<p><a HREF="16S_P_E1.HTM#22"><font size="3">問題へ</font></a></p> 
<HR WIDTH=100%> 
<p><font size="3"><b><a name="23">設問3</a></b>　</font></p> 
<p> 
<br>＜解答＞　ア<br>
<br>＜解説＞ロールフォワード処理では，バックアップ時点の状態にデータベースを戻した後，ログファイルの更新後情報を用いて，正しく完了した更新処理の結果だけを反映させて前進復帰する。したがって①TR1による更新A＋100，②TR3による更新A－500，D＋300，③TR4による更新E－100による更新の結果だけを反映させる。Aが1,000＋100－500＝600，Bが1,500，Cが3,000，Dが2,000＋300＝2,300，Eが500－100＝400になり，アが適切。
<br>
<hr> 
<p><font size="3"> 
<p><a HREF="16S_P_E1.HTM#23"><font size="3">問題へ</font></a></p> 
<HR WIDTH=100%> 
<p><font size="3"><b><a name="24">設問4</a></b>　</font></p> 
<p> 
<br>＜解答＞　ア<br>
<br>＜解説＞TR2については，更新途中で異常終了しているので，ロールフォワードによる障害復旧ができない。したがってウォームスタート時に再処理実行の必要がある。
<br>
<hr> 
<p><font size="3"> 
<p><a HREF="16S_P_E1.HTM#24"><font size="3">問題へ</font></a></p> 

<A HREF="INDEX.HTM">メニューへ戻る</A> 
</font> 
</p> 
<HR WIDTH=100%> 
</BLOCKQUOTE> 
<p>　 
</BODY> 
</HTML> 
