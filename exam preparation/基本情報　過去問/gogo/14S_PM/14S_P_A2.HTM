<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
<meta http-equiv="Content-Language" content="ja">
<TITLE>平成14年度春期試験　(問3〜問5)</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" topmargin="0" leftmargin="0">
<blockquote>
  <hr>
  <H3 align="center">平成14年度春期試験　正解例と解説(問3〜問5)</H3>
<HR WIDTH=100%>
<A NAME="30">　<BR>
<b>
問3</b></a><b>　</b>

<HR>
<A NAME="31">　<BR>
<b>
設問1</b></a>
<br><br>＜解答＞　a　キ　　　b　ウ<br>
<br>＜解説＞EXISTS以下の副問合わせの結果が存在するか否かにより，主問合せの結果が抽出されるか否かが決まる。社員スキル表には，スキルコードが‘FE’であるデータが存在する。つまりEXISTS以下の副問合わせの結果が存在するのでEXISTSは真を返し，主問合せで検索された結果がすべて抽出される。主問合せでは社員表の0001から0006までの社員番号6個が検索される。したがって空欄aは6個となる。<br>
主問合せでは「社員表」を参照しているが，EXISTS以下の副問合わせでは，主問合せとは異なる「社員スキル表」を参照し，社員番号をキーにして「社員表」と「社員スキル表」を結合してスキルコードが‘FE’であるデータを検索している。この場合，社員番号0001と0002に該当する行が存在するので，社員番号0001と0002に該当する行に対してEXISTSは真を返し，主問合せで検索された行のうち社員番号0001と0002に該当する行の社員名がすべて抽出される。社員番号0001と0002に該当する社員名は「鈴木」と「田中」の2個である。したがって空欄bは2個となる。<br>
<br>
<HR WIDTH=100%>

<A HREF="14S_P_E2.htm#31">問題へ</A>
<HR WIDTH=100%>
<A NAME="32">　<BR>
<b>
設問2</b></a>　　
<br>＜解答＞　エ<br>
<br>＜解説＞社員スキル表で，同じ社員番号の社員について異なるスキルコードをもつ社員が検索される。つまり複数のスキルを持つ社員が抽出される。<br>
<br>
<HR WIDTH=100%>
<A HREF="14S_P_E2.htm#32">問題へ</A>
<HR WIDTH=100%>
<a NAME="33">　<BR>
<b>
設問3</b></a>　
<br>＜解答＞　ア<br>
<br>＜解説＞社員スキル表には社員名がないので，社員番号をキーにして社員表と結合して検索すればよい。<br>
<br>
<HR WIDTH=100%> 

<a HREF="14S_P_E2.htm#33">問題へ</a>
<HR WIDTH=100%>
<p><A HREF="INDEX.HTM">メニューへ戻る</A>　</p>
<HR WIDTH=100%>
<A NAME="40">　<BR>
<b>
問4</b></a>　
<HR WIDTH=100%>
<A NAME="41">
<b>　<BR>
設問1</b></a>
<br>＜解答＞　a　イ　　　b　ア　　　c　エ　　　d　カ<br>
<br>＜解説＞空欄a，bについて<br>
副プログラムQuickSort( A[ ], Min, Max )は，配列AのA[Min]からA[Max]までをクイックソートで整列する。その中で呼び出している副プログラムArange( A[ ], Min, Max, Pivot, K )は，A[Min],…,A[K−1]の値がPivot未満となり，A[K],…,A[Max]の値がPivot以上となるように要素を並べ替え，Kの値を戻り値として返す。このKの値に対して，A[Min], …,A[K−1]とA[K],…,A[Max]をそれぞれ新しい配列とみなして，QuickSortを再帰的に繰り返している。空欄aの直前でLにK−1の値を転送しているので，空欄aはK−1つまりLで，空欄bはKとなる。<br>
<br>
空欄c，dについて<br>
空欄c，dは，副プログラムFindPivot( A[ ], Min, Max, Ret )の中の処理である。副プログラムFindPivotは，基準値Pivotを探索する処理で，A[Min+1]からA[Max]までA[Min]と値が異なる要素を順次探索し，最初に見つかった要素の値とA[Min]の値のうち大きいほうを基準値とし戻り値Retにセットして返す。つまりPivot=A[Min]として，初めてA[K]≠PivotとなったときA[K]とPivotの大きいほうの要素番号をRetにセットしている。したがってA[K]＞Pivotの場合の処理である空欄cはRet ← Kで，A[K]≦Pivotの場合の処理である空欄dはRet ← Minとなる。なお配列要素がすべて同じ値の場合は，−1をRetにセットされる。<br>
<br>
<HR WIDTH=100%> 
<A HREF="14S_P_E2.htm#41">問題へ</A> 
<HR WIDTH=100%> 
<A NAME="42"> 
　<BR>
<b>
設問2</b></a>
<br>＜解答＞　e　ウ　　　f　ア　　　g　ウ<br>
<br>＜解説＞1回目のQuickSort( A[ ], 0, 9 )の呼び出しにおいて，FindPivot( A[ ], 0, 9, J )により基準値5が決まり，Pivot＝5にセットされArrange( A[ ], 0, 9, Pivot, K )が呼び出される。この結果配列要素は以下のように並びK＝5が戻り値として返され，L＝K−1＝4にセットされる。
        <p><img border="0" src="image/P_A04-11.gif"></p>
<br>
この状態で2回目のQuickSort( A[ ], 0, 4 )の呼び出しが行われる。FindPivot( A[ ], 0, 4, J )により基準値3が決まり，Pivot＝3にセットされArrange( A[ ], 0, 4, Pivot, K )が呼び出される。この結果配列要素は以下のように並びK＝3が戻り値として返され，L＝K−1＝2にセットされる。<br>
        <p><img border="0" src="image/P_A04-12.gif"></p>
<br>
この状態で3回目のQuickSort( A[ ], 0, 2 )の呼び出しが行われる。<br>
したがって空欄eは，<br>
        <p><img border="0" src="image/P_A04-13.gif"></p>
<br>
空欄fは0，空欄gは2である。<br>
<br>
＜参考＞<br>
副プログラムArrange( A[ ], Min, Max, Pivot, Ret )では，まずLにMinを，RにMaxをセットしたあと，<br>
        <table border="0" cellpadding="3" cellspacing="0">
          <tr>
            <td valign="top">（1）</td>
            <td>L≦RであればA[L]とA[R]を入れ替える</td>
          </tr>
          <tr>
            <td valign="top">（2）</td>
            <td>その結果A[L]＜PivotであればL←L＋1とし，さらにA[R]≧PivotであればR←R−1として次の要素に進み，(1)に戻り入れ替える。<br>
A[L]＜Pivot≦A[R]でない場合は，そのまま(1)に戻り入れ替える。</td>
          </tr>
        </table>
<HR WIDTH=100%>  
  
<A HREF="14S_P_E2.htm#42">問題へ</A>  
<HR WIDTH=100%>  
　<BR>
<b><a name="50">問5</a>　</b>
<hr>
<p><b><a name="51">設問1</a>　</b>
<br><br>＜解答＞　a　イ　　　b　エ　　　c　ア<br>
<br>＜解説＞空欄aについて<br>
プログラムの説明(2)より，初期状態S<SUB>0</SUB>は赤旗も白旗も下がっている状態である。S<SUB>0</SUB>からS<SUB>1</SUB>への遷移(1)は“赤旗を上げる”であるから，は“赤旗が上がっている”かつ“白旗が下がっている”である。<br>
空欄bについて<br>
S<SUB>3</SUB>からS<SUB>0</SUB>への遷移(2)は，初期状態S<SUB>0</SUB>の“赤旗も白旗も下がっている状態”に戻る遷移なので，S<SUB>3</SUB>は“赤旗が下がっている”かつ“白旗が上がっている”状態であることが分かる。したがって遷移(3)は“白旗を下げる”である。<br>
空欄cについて<br>
 “赤旗が上がっている”かつ“白旗が下がっている”状態S<SUB>1</SUB>から状態S<SUB>2</SUB>を経由して，“赤旗が下がっている”状態S<SUB>3</SUB>に遷移している。これよりS<SUB>2</SUB>は赤旗も白旗もともに上がっている状態であることが分かる。したがってS<SUB>2</SUB>からS<SUB>3</SUB>への遷移(3)は，“赤旗を下げる”である。<br>
<HR WIDTH=100%>
  <a HREF="14S_P_E2.htm#51">問題へ</a>
<HR WIDTH=100%>
  　<BR>
<b><a name="52">設問2</a>　</b>
<br><br>＜解答＞　ア，キ<br>
<br>＜解説＞プログラムの説明(4)から，動作検出時間内に旗の動きが検出されるかにより旗の動作の検出を行っている。したがって動作の検出処理では，初期値ファイルの動作検出時間を参照する必要がある。またプログラムの説明(5)から，初期値ファイルの誤答画面表示時間が経過した後，画面の旗を正しい状態にするので，誤答対応処理でも，初期値ファイルの誤答画面表示時間を参照する必要がある。<br>
<br>

<HR WIDTH=100%>
  <a HREF="14S_P_E2.htm#52">問題へ</a>
<HR WIDTH=100%>

<A HREF="INDEX.HTM">メニューへ戻る</A></p>
<HR WIDTH=100%>
  <p>　</p>
</blockquote>
</BODY>
</HTML>
